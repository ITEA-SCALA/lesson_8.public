# Область применения для *Optional*, *Exception*, *Validator* в архитектуре проекта

1. `Optional`
2. `Exception`
3. `Validator`

* Пример получения данных из базы.

  База может: либо найти и вернуть ожидаемые данные; либо не найти и не вернуть ничего;

  Еще база может вернуть: либо список данных; либо пустой список;

  В этих случаях есть смысл применить `Optional`, чтобы избежать NullPointerException

* Пример проверки данных из тела клиентского запроса в контролере.

  Прежде, чем продолжить обработку клиентских данных на сервере приложения, есть смысл выполнить предварительную проверку на корректность переданных полей из клиентской формы.

  В этих случаях есть смысл применить `Validator`, чтобы избежать исключительных ситуаций в процессе обработки данных

* Бизнес логика приложения может поддерживать корректную обработку данных и поведения приложения в целом при условии если клиентские данные/запросы соответствуют ожидаемому формату.

  Пример #1: обязательное соединение с базой;

  Пример #2: отсутствие обязательно заполненных полей полученных (из клиентской формы);

  Пример #3: получение подтверждения на успешно выполненную операцию (регистрация-авторизация в системе);

  Пример #4: ошибка по техническим причинам (исчерпаны ресурсы...);

  В этих случаях есть смысл применить `Exception`, чтобы немедленно прервать обработку данных и оповестить об этом клиента (сбой в процессе выполнения)

  - Подобного рода ошибки могут появляться в разных слоях архитектуры приложения;
  - Это не ошибки синтаксического характера исключения на которые предусмотрены в Scala;
  - Необходимо реализовать кастомные Exception-классы, которые описывают поведения бизнес-модели
  - Исключения бизнес-модель выбрасываются в месте проверки и всегда должны возвращать форму в которой описана информация об ошибке (вместо ожидаемого результата)


---

Выше описанный подход очень хорошо применяется для случаев разработки API-сервисов.

В случаи для разработки компонентов модели с клиентской веб-формой:
- и сама клиентская веб-форма и контроллер веб-сервиса на сервере являются одним целым

  поэтому валидацию удобно делать на стороне клиентской веб-формы

  нет необходимо реализовать кастомные Exception-классы для поведения бизнес-модели...


### Валидаторы и свободные монады в Scala

* `Tutorial` https://dzone.com/articles/validation-for-free-in-scala
* `Repo` https://github.com/michaelw123/validation

Монадические сущности в Scala, такие как `Option`, `Try` и `Either`, очень удобны в использовании.

Все популярные библиотеки Scala, такие как **scalaz** (`scalaz.Validation`) и **Cats** (`cats.data.Validated`), обеспечивают поддержку валидации приложений.


* `Akka HTTP rest-example` https://github.com/ITEA-SCALA/akka-http-rest-example
* `Scala Play anorm-example` https://github.com/ITEA-SCALA/play-scala-anorm-example
